webpackJsonp([22],{G1d9:function(e,t,a){var i=a("Vu9P");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("4adc7646",i,!0)},U6Cp:function(e,t,a){var i=a("p7W+");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("7a1b3ff8",i,!0)},Vu9P:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.editor-btn[data-v-15ffaa30]{\n        margin-top: 20px\n}\n.ql-editor[data-v-15ffaa30]{height: 400px\n}\n.ql-container ql-snow[data-v-15ffaa30]{height: 400px\n}\n.titile[data-v-15ffaa30]{background: #f1f1f1;padding: 10px; text-align: center;margin: 20px\n}\n",""])},oUP6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("woOf"),o=a.n(i),s=a("wvJD"),n=a("t5DY"),l=a("4/BI"),r={data:function(){return{checkAll:!1,rewardCoins:[],poolFeeCNY:"",poolFeeBTC:"",poolFeeBCH:"",poolFeeETH:"",poolFeeLTC:"",poolFee:[],showCNY:!1,showBTC:!1,showBCH:!1,showETH:!1,showLTC:!1,optionsEleFee:[],optionslanguage:[],isIndeterminate:!0,isShow:!0,loading:!1,currentPage:1,dialogVisible_editOpt:!1,dialogVisible_edit:!1,dialogVisible_add:!1,dialogVisible_status:!1,dialogVisible_Adjust:!1,tableData:[],page:{pageNO:1,pageSize:20,totalCount:"",order:"",sort:""},ajust:{priceRate:"",eleFee:"",poolFee:"",lang:""},hashCopies:"",power:"",hashCoefficient:"",powerCoefficient:"",workerAmount:"",hashRate:"",capacityRate:"",mine_obj:{id:"",hashName:"",coinType:"",machineNo:"",workerAmount:"",hashCoefficient:"",powerCoefficient:"",hashRate:"",capacityRate:"",hashCopies:"",amount:"",price:"",minAmount:"",maxAmount:"",incomeTime:"",date:"",startTime:"",startDate:"",endTime:"",endDate:"",poolFee:"",eleFee:"",power:"",recover:"",beforeRecover:"",afterRecover:"",hashUnit:"",showStatus:"",hashStatus:"",hashType:"",status:status,remark:"",contract:"",coinPriceRate:"",worker:"",powerRate:"",rewardCoins:[]},rules:{},options:[],optionsWorker:[],optionsDanger:[]}},created:function(){this.init()},filters:{formatCoinType:function(e){return Object(l.a)(e)},statusFilter:function(e){return{0:"danger",1:"success",2:"warning"}[e]},formatStata:function(e){return{0:"禁用",1:"启用",2:"待审核"}[e]},formatDate:function(e){if(e){var t=new Date(e);return Object(l.b)(t,"yyyy-MM-dd hh:mm:ss")}}},components:{VueEditor:a("rC7+").a},computed:{},watch:{hashCopies:function(e,t){e&&this.caculateHash(e)},power:function(e,t){e&&this.caculatePower(e)},rewardCoins:function(e,t){e&&this.handleCheckedCitiesChange(e)}},methods:{init:function(){var e=this;this.loading=!0,Object(s.o)(this.page).then(function(t){e.loading=!1,t.data.type?(e.tableData=t.data.body.result,e.page.pageNO=t.data.body.pageNum,e.page.pageSize=t.data.body.pageSize,e.page.totalCount=t.data.body.totalCount,e.ajust.priceRate=t.data.body.result[0].coinPriceRate,e.ajust.eleFee=t.data.body.result[0].eleFee,e.ajust.poolFee=t.data.body.result[0].poolFee):t.data.body&&e.$message.error(t.data.body)})},handleAdd:function(){this.mine_obj={},this.hashCopies="",this.power="",this.workerAmount="",this.hashRate="",this.capacityRate="",this.hashCoefficient="",this.powerCoefficient="",this.rewardCoins=[],this.poolFee=[],this.dialogVisible_add=!0,this.getCoin(),this.getDangerType()},add_submit:function(e){var t=this;this.mine_obj.hashCopies=this.hashCopies,this.mine_obj.powerRate=this.power,this.mine_obj.showStatus=this.mine_obj.hashStatus,this.mine_obj.workerAmount=this.workerAmount,this.mine_obj.hashRate=this.hashRate,this.mine_obj.capacityRate=this.capacityRate,this.mine_obj.hashCoefficient=this.hashCoefficient,this.mine_obj.powerCoefficient=this.powerCoefficient,this.mine_obj.rewardCoins=this.rewardCoins.join(),this.poolFeeCNY&&this.showCNY&&this.poolFee.push(this.poolFeeCNY),this.poolFeeBTC&&this.showBTC&&this.poolFee.push(this.poolFeeBTC),this.poolFeeBCH&&this.showBCH&&this.poolFee.push(this.poolFeeBCH),this.poolFeeETH&&this.showETH&&this.poolFee.push(this.poolFeeETH),this.poolFeeLTC&&this.showLTC&&this.poolFee.push(this.poolFeeLTC),this.mine_obj.poolFee=this.poolFee.join(),this.$refs[e].validate(function(e){e&&Object(s.b)(t.mine_obj).then(function(e){e.data.type?(t.$message.success("提交成功！"),t.dialogVisible_add=!1,t.mine_obj={},t.mine_obj.poolFee="",t.poolFee=[],t.init()):(t.poolFee=[],t.mine_obj.poolFee="",t.$message.error(e.data.body))})})},handleAdjust:function(){this.dialogVisible_Adjust=!0,this.ajust=o()({},this.ajust),this.getlanguage()},adjust_submit_priceRate:function(e){var t=this;this.$refs[e].validate(function(e){e&&Object(s.d)({priceRate:t.ajust.priceRate}).then(function(e){e.data.type?t.$message.success("提交成功！"):t.$message.error(e.data.body)})})},adjust_submit_eleFee:function(e){var t=this;this.$refs[e].validate(function(e){e&&Object(s.d)({eleFee:t.ajust.eleFee,lang:t.ajust.lang}).then(function(e){e.data.type?t.$message.success("提交成功！"):t.$message.error(e.data.body)})})},adjust_submit_poolFee:function(e){this.$message.error("矿池费率不统一,无法调整")},cancleAdjust:function(){this.dialogVisible_Adjust=!1,this.init()},handleEditOpt:function(e,t){this.dialogVisible_editOpt=!0,this.mine_obj=o()({},t),this.hashCoefficient=this.mine_obj.hashCoefficient,this.powerCoefficient=this.mine_obj.powerCoefficient,this.hashCopies=this.mine_obj.amount,this.power=this.mine_obj.powerRate,this.workerAmount=this.mine_obj.workerAmount,this.hashRate=this.mine_obj.hashRate,this.capacityRate=this.mine_obj.capacityRate,this.mine_obj.hashName=this.mine_obj.name,this.mine_obj.machineNo=this.mine_obj.worker,this.mine_obj.hashId=this.mine_obj.id,this.mine_obj.hashUnit=this.mine_obj.unit,this.mine_obj.hashStatus=t.hashStatus,this.rewardCoins=t.rewardCoins.split(","),this.rewardCoins=this.rewardCoins.map(function(e){return+e}),this.poolFee=t.poolFee.split(",");var a=this.mine_obj.date;if(a){var i=new Date(a);this.mine_obj.date=Object(l.b)(i,"yyyy-MM-dd hh:mm:ss")}var s=this.mine_obj.startDate;if(s){i=new Date(s);this.mine_obj.startDate=Object(l.b)(i,"yyyy-MM-dd hh:mm:ss")}var n=this.mine_obj.endDate;if(n){i=new Date(n);this.mine_obj.endDate=Object(l.b)(i,"yyyy-MM-dd hh:mm:ss")}this.getCoin(),this.getDangerType(),this.getlistAllWorker(this.mine_obj.coinType),this.changeMachineNo(this.mine_obj.worker)},editOpt_submit:function(e){var t=this;this.mine_obj.hashCoefficient=this.hashCoefficient,this.mine_obj.powerCoefficient=this.powerCoefficient,this.mine_obj.hashCopies=this.hashCopies,this.mine_obj.powerRate=this.power,this.mine_obj.workerAmount=this.workerAmount,this.mine_obj.hashRate=this.hashRate,this.mine_obj.capacityRate=this.capacityRate,this.mine_obj.showStatus=this.mine_obj.hashStatus,this.mine_obj.incomeTime=this.mine_obj.date,this.mine_obj.startTime=this.mine_obj.startDate,this.mine_obj.endTime=this.mine_obj.endDate,this.mine_obj.rewardCoins=this.rewardCoins.join(),this.$refs[e].validate(function(e){e&&Object(s.B)(t.mine_obj).then(function(e){e.data.type?(t.$message.success("提交成功！"),t.dialogVisible_editOpt=!1,t.init()):t.$message.error(e.data.body)})})},handleStatus:function(e,t){this.dialogVisible_status=!0,this.mine_obj=o()({},t)},status_submit:function(e){var t=this,a=o()({},this.mine_obj),i={id:a.id,value:a.status,remark:a.remark};this.$refs[e].validate(function(e){e&&Object(s.D)(i).then(function(e){e.data.type?(t.$message.success("提交成功！"),t.dialogVisible_status=!1,t.init()):t.$message.error("提交失败！")})})},handleEdit:function(e,t){this.isShow=!1,this.mine_obj.name=t.name,this.mine_obj.id=t.id,this.$refs.vueEditor.init(t.id,"contract")},handleEditRisk:function(e,t){this.isShow=!1,this.mine_obj.name=t.name,this.mine_obj.id=t.id,this.$refs.vueEditor.init(t.risk,"risk")},handleSizeChange:function(e){this.page.pageSize=e,this.init()},handleCurrentChange:function(e){this.page.pageNO=e,this.init()},sortChange:function(e){var t=this;this.page.sort=e.prop,"descending"==e.order?this.page.order="desc":"ascending"==e.order&&(this.page.order="asc"),Object(s.o)(this.page).then(function(e){t.loading=!1,t.tableData=e.data.body.result,t.page.pageNO=e.data.body.pageNum,t.page.pageSize=e.data.body.pageSize,t.page.totalCount=e.data.body.totalCount})},cancle:function(){this.isShow=!0,this.init()},getCoin:function(){var e=this;Object(n.b)({}).then(function(t){var a=[];if(t.data.type){for(var i in a=t.data.body)a[i].isShow=!1,a[i].poolFeePer="";e.options=a}else e.$message.error("获取币种失败！")})},changeType:function(){this.mine_obj.machineNo="",this.changeMachineNo(this.mine_obj.machineNo),this.getlistAllWorker(this.mine_obj.coinType)},getlistAllWorker:function(e){var t=this;Object(n.g)({type:e}).then(function(e){e.data.type?t.optionsWorker=e.data.body:t.$message.error(e.data.body)})},caculateHash:function(e){/^[0-9]*$/.test(e)?(this.workerAmount=parseInt(e/this.hashCoefficient),this.workerAmount?this.hashRate=(e/this.hashCoefficient/this.workerAmount*100).toFixed(4):this.hashRate=0):this.workerAmount=0},caculatePower:function(e){/^[0-9]*$/.test(e)?this.capacityRate=(e/(this.powerCoefficient/this.hashCoefficient)*100).toFixed(4):this.capacityRate=0},changeMachineNo:function(e){var t=this;if(!e)return this.workerAmount="",this.hashRate="",this.capacityRate="",this.hashCoefficient="",this.powerCoefficient="",this.hashCopies="",void(this.power="");Object(s.x)({type:this.mine_obj.coinType}).then(function(a){if(a.data.type){for(var i=a.data.body,o=0;o<i.length;o++)if(e==i[o].id){t.hashCoefficient=i[o].hash,t.powerCoefficient=i[o].power;break}return t.workerAmount=parseInt(t.hashCopies/t.hashCoefficient),t.hashRate=(t.hashCopies/t.hashCoefficient/t.workerAmount*100).toFixed(4),void(t.capacityRate=(t.power/(t.powerCoefficient/t.hashCoefficient)*100).toFixed(4))}t.$message.error("获取算力系数和功率系数失败！")})},getDangerType:function(){var e=this;Object(n.c)({paraKey:"yun_hash_type"}).then(function(t){t.data.type?e.optionsDanger=t.data.body:e.$message.error(t.data.body)})},getlanguage:function(){var e=this;Object(n.c)({paraKey:"lang"}).then(function(t){t.data.type?e.optionslanguage=t.data.body:e.$message.error(t.data.body)})},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.options.length,this.isIndeterminate=t>0&&t<this.options.length,this.poolFee=[],this.showCNY=!1,this.showBTC=!1,this.showBCH=!1,this.showETH=!1,this.showLTC=!1;for(var a=0;a<e.length;a++)1==e[a]&&(this.showCNY=!0),2==e[a]&&(this.showBTC=!0),3==e[a]&&(this.showBCH=!0),4==e[a]&&(this.showETH=!0),5==e[a]&&(this.showLTC=!0)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}]},[a("el-button",{staticClass:"addButton",attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("添加")]),e._v(" "),a("el-button",{staticClass:"addButton",attrs:{type:"primary"},on:{click:e.handleAdjust}},[e._v("批量调整")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"mt_20",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{sortable:"",fixed:"left",prop:"name",label:"方案名称","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"算力类型",prop:"coinTypeName",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.coinTypeName?a("el-tag",{attrs:{size:"mini"}},[e._v(e._s(t.row.coinTypeName))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"amount",label:"总份额",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"sellCopies",label:"已售份额",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"unSellCopies",label:"剩余份额",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"收益时间",prop:"date",sortable:"",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"mini"}},[e._v(e._s(e._f("formatDate")(t.row.date)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"风险类型",prop:"hashTypeName",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.hashTypeName?a("el-tag",{attrs:{size:"mini"}},[e._v(e._s(t.row.hashTypeName))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"price",label:"单价"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{key:t.$index,attrs:{href:"javascript:void(0)"},on:{click:function(a){e.handleStatus(t.$index,t.row)}}},[a("el-tag",{attrs:{size:"mini",type:e._f("statusFilter")(t.row.status)}},[e._v(e._s(e._f("formatStata")(t.row.status)))])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"rewardCoinNames",label:"收益方式"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{key:t.$index,attrs:{size:"mini",type:"primary"},on:{click:function(a){e.handleEditOpt(t.$index,t.row)}}},[e._v("编辑")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"多语言"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:"/hash/hash_lang/"+t.row.id}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("编辑")])],1)]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"","current-page":e.page.pageNO,"page-sizes":[20,50,100],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:parseInt(e.page.totalCount)},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加",visible:e.dialogVisible_add},on:{"update:visible":function(t){e.dialogVisible_add=t}}},[a("el-form",{ref:"mine_obj",attrs:{model:e.mine_obj,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"方案名称",prop:"company"}},[a("el-input",{model:{value:e.mine_obj.hashName,callback:function(t){e.$set(e.mine_obj,"hashName",t)},expression:"mine_obj.hashName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"算力类型",prop:"coinType"}},[a("el-select",{attrs:{placeholder:"请选择币种"},on:{change:e.changeType},model:{value:e.mine_obj.coinType,callback:function(t){e.$set(e.mine_obj,"coinType",t)},expression:"mine_obj.coinType"}},e._l(e.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"矿机型号",prop:"worker"}},[a("el-select",{attrs:{placeholder:"请选择矿机型号"},on:{change:e.changeMachineNo},model:{value:e.mine_obj.machineNo,callback:function(t){e.$set(e.mine_obj,"machineNo",t)},expression:"mine_obj.machineNo"}},e._l(e.optionsWorker,function(e){return a("el-option",{key:e.id,attrs:{label:e.model,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"算力份额",prop:"amount"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.hashCopies,callback:function(t){e.hashCopies=t},expression:"hashCopies"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("*")]),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:""},model:{value:e.mine_obj.hashUnit,callback:function(t){e.$set(e.mine_obj,"hashUnit",t)},expression:"mine_obj.hashUnit"}},[a("el-option",{attrs:{label:"K",value:"K"}},[e._v("K")]),e._v(" "),a("el-option",{attrs:{label:"M",value:"M"}},[e._v("M")]),e._v(" "),a("el-option",{attrs:{label:"G",value:"G"}},[e._v("G")]),e._v(" "),a("el-option",{attrs:{label:"T",value:"T"}},[e._v("T")]),e._v(" "),a("el-option",{attrs:{label:"P",value:"P"}},[e._v("P")]),e._v(" "),a("el-option",{attrs:{label:"E",value:"E"}},[e._v("E")])],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"单位功耗"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.power,callback:function(t){e.power=t},expression:"power"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("W")])],1),e._v(" "),a("el-form-item",{attrs:{label:"矿机台数",prop:"workerAmount"}},[a("el-input",{model:{value:e.workerAmount,callback:function(t){e.workerAmount=t},expression:"workerAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"算力系数"}},[a("el-col",{attrs:{span:4}},[a("span",[e._v(" "+e._s(e.hashCoefficient))])]),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("*")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.hashRate,callback:function(t){e.hashRate=t},expression:"hashRate"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("%")])],1),e._v(" "),a("el-form-item",{attrs:{label:"功率系数"}},[a("el-col",{attrs:{span:4}},[a("span",[e._v("  "+e._s(e.powerCoefficient))])]),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("*")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.capacityRate,callback:function(t){e.capacityRate=t},expression:"capacityRate"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("%")])],1),e._v(" "),a("el-form-item",{attrs:{label:"币价系数",prop:"coinPriceRate"}},[a("el-input",{model:{value:e.mine_obj.coinPriceRate,callback:function(t){e.$set(e.mine_obj,"coinPriceRate",t)},expression:"mine_obj.coinPriceRate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否展示",prop:"hashStatus"}},[a("el-radio-group",{model:{value:e.mine_obj.hashStatus,callback:function(t){e.$set(e.mine_obj,"hashStatus",t)},expression:"mine_obj.hashStatus"}},[a("el-radio",{attrs:{label:1}},[e._v("展示")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("隐藏")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"风险类型",prop:"hashType"}},[a("el-select",{attrs:{placeholder:"请选择风险类型"},model:{value:e.mine_obj.hashType,callback:function(t){e.$set(e.mine_obj,"hashType",t)},expression:"mine_obj.hashType"}},e._l(e.optionsDanger,function(e){return a("el-option",{key:e.id,attrs:{label:e.paraName,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"单位价格",props:"price"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.price,callback:function(t){e.$set(e.mine_obj,"price",t)},expression:"mine_obj.price"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("元/美元/"+e._s(e.mine_obj.hashUnit))])],1),e._v(" "),a("el-form-item",{attrs:{label:"最低份额"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.minAmount,callback:function(t){e.$set(e.mine_obj,"minAmount",t)},expression:"mine_obj.minAmount"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v(e._s(e.mine_obj.hashUnit))])],1),e._v(" "),a("el-form-item",{attrs:{label:"最高份额"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.maxAmount,callback:function(t){e.$set(e.mine_obj,"maxAmount",t)},expression:"mine_obj.maxAmount"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v(e._s(e.mine_obj.hashUnit))])],1),e._v(" "),a("el-form-item",{attrs:{label:"收益时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"收益开始时间","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.mine_obj.incomeTime,callback:function(t){e.$set(e.mine_obj,"incomeTime",t)},expression:"mine_obj.incomeTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"开始售卖时间","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.mine_obj.startTime,callback:function(t){e.$set(e.mine_obj,"startTime",t)},expression:"mine_obj.startTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"截止时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"停止售卖时间","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.mine_obj.endTime,callback:function(t){e.$set(e.mine_obj,"endTime",t)},expression:"mine_obj.endTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电费"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.eleFee,callback:function(t){e.$set(e.mine_obj,"eleFee",t)},expression:"mine_obj.eleFee"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("元/美元")])],1),e._v(" "),a("el-form-item",{attrs:{label:"收益方式",prop:"rewardCoins"}},[a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.rewardCoins,callback:function(t){e.rewardCoins=t},expression:"rewardCoins"}},e._l(e.options,function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.name)+"\n                 ")])}))],1),e._v(" "),this.poolFee?a("el-form-item",{attrs:{label:"矿池费率"}},[e.showCNY?a("el-row",[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.poolFeeCNY,callback:function(t){e.poolFeeCNY=t},expression:"poolFeeCNY"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("%")])],1):e._e(),e._v(" "),e.showBTC?a("el-row",[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.poolFeeBTC,callback:function(t){e.poolFeeBTC=t},expression:"poolFeeBTC"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("%")])],1):e._e(),e._v(" "),e.showBCH?a("el-row",[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.poolFeeBCH,callback:function(t){e.poolFeeBCH=t},expression:"poolFeeBCH"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("%")])],1):e._e(),e._v(" "),e.showETH?a("el-row",[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.poolFeeETH,callback:function(t){e.poolFeeETH=t},expression:"poolFeeETH"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("%")])],1):e._e(),e._v(" "),e.showLTC?a("el-row",[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.poolFeeLTC,callback:function(t){e.poolFeeLTC=t},expression:"poolFeeLTC"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("%")])],1):e._e()],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"回本系数"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.recover,callback:function(t){e.$set(e.mine_obj,"recover",t)},expression:"mine_obj.recover"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("%")])],1),e._v(" "),a("el-form-item",{attrs:{label:"回本前收益率"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.beforeRecover,callback:function(t){e.$set(e.mine_obj,"beforeRecover",t)},expression:"mine_obj.beforeRecover"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("%")])],1),e._v(" "),a("el-form-item",{attrs:{label:"回本后收益率"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.afterRecover,callback:function(t){e.$set(e.mine_obj,"afterRecover",t)},expression:"mine_obj.afterRecover"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("%")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.add_submit("mine_obj")}}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible_add=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.dialogVisible_editOpt},on:{"update:visible":function(t){e.dialogVisible_editOpt=t}}},[a("el-form",{ref:"mine_obj",attrs:{model:e.mine_obj,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"方案名称",prop:"company"}},[a("el-input",{model:{value:e.mine_obj.hashName,callback:function(t){e.$set(e.mine_obj,"hashName",t)},expression:"mine_obj.hashName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"算力类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择币种"},on:{change:e.changeType},model:{value:e.mine_obj.coinType,callback:function(t){e.$set(e.mine_obj,"coinType",t)},expression:"mine_obj.coinType"}},e._l(e.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"矿机型号",prop:"worker"}},[a("el-select",{attrs:{placeholder:"请选择矿机型号"},on:{change:e.changeMachineNo},model:{value:e.mine_obj.worker,callback:function(t){e.$set(e.mine_obj,"worker",t)},expression:"mine_obj.worker"}},e._l(e.optionsWorker,function(e){return a("el-option",{key:e.id,attrs:{label:e.model,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"算力份额",prop:"hashCopies"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.hashCopies,callback:function(t){e.hashCopies=t},expression:"hashCopies"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("*")]),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:""},model:{value:e.mine_obj.hashUnit,callback:function(t){e.$set(e.mine_obj,"hashUnit",t)},expression:"mine_obj.hashUnit"}},[a("el-option",{attrs:{label:"K",value:"K"}},[e._v("K")]),e._v(" "),a("el-option",{attrs:{label:"M",value:"M"}},[e._v("M")]),e._v(" "),a("el-option",{attrs:{label:"G",value:"G"}},[e._v("G")]),e._v(" "),a("el-option",{attrs:{label:"T",value:"T"}},[e._v("T")]),e._v(" "),a("el-option",{attrs:{label:"P",value:"P"}},[e._v("P")]),e._v(" "),a("el-option",{attrs:{label:"E",value:"E"}},[e._v("E")])],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"单位功耗"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.power,callback:function(t){e.power=t},expression:"power"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v("\n                 w\n            ")])],1),e._v(" "),a("el-form-item",{attrs:{label:"矿机台数",prop:"workerAmount"}},[a("el-input",{model:{value:e.workerAmount,callback:function(t){e.workerAmount=t},expression:"workerAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"算力系数"}},[a("el-col",{attrs:{span:4}},[a("span",[e._v(" "+e._s(e.hashCoefficient))])]),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("*")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.hashRate,callback:function(t){e.hashRate=t},expression:"hashRate"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("%")])],1),e._v(" "),a("el-form-item",{attrs:{label:"功率系数"}},[a("el-col",{attrs:{span:4}},[a("span",[e._v("  "+e._s(e.powerCoefficient))])]),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("*")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.capacityRate,callback:function(t){e.capacityRate=t},expression:"capacityRate"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("%")])],1),e._v(" "),a("el-form-item",{attrs:{label:"币价系数",prop:"coinPriceRate"}},[a("el-input",{model:{value:e.mine_obj.coinPriceRate,callback:function(t){e.$set(e.mine_obj,"coinPriceRate",t)},expression:"mine_obj.coinPriceRate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否展示",prop:"hashStatus"}},[a("el-radio-group",{model:{value:e.mine_obj.hashStatus,callback:function(t){e.$set(e.mine_obj,"hashStatus",t)},expression:"mine_obj.hashStatus"}},[a("el-radio",{attrs:{label:1}},[e._v("展示")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("隐藏")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"风险类型",prop:"hashType"}},[a("el-select",{attrs:{placeholder:"请选择风险类型"},model:{value:e.mine_obj.hashType,callback:function(t){e.$set(e.mine_obj,"hashType",t)},expression:"mine_obj.hashType"}},e._l(e.optionsDanger,function(e){return a("el-option",{key:e.id,attrs:{label:e.paraName,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"单位价格",props:"price"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.price,callback:function(t){e.$set(e.mine_obj,"price",t)},expression:"mine_obj.price"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("元/美元/"+e._s(e.mine_obj.hashUnit))])],1),e._v(" "),a("el-form-item",{attrs:{label:"最低份额"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.minAmount,callback:function(t){e.$set(e.mine_obj,"minAmount",t)},expression:"mine_obj.minAmount"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v(e._s(e.mine_obj.hashUnit))])],1),e._v(" "),a("el-form-item",{attrs:{label:"最高份额"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.maxAmount,callback:function(t){e.$set(e.mine_obj,"maxAmount",t)},expression:"mine_obj.maxAmount"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v(e._s(e.mine_obj.hashUnit))])],1),e._v(" "),a("el-form-item",{attrs:{label:"收益时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"收益开始时间","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.mine_obj.date,callback:function(t){e.$set(e.mine_obj,"date",t)},expression:"mine_obj.date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"开始售卖时间","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.mine_obj.startDate,callback:function(t){e.$set(e.mine_obj,"startDate",t)},expression:"mine_obj.startDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"截止时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"停止售卖时间","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.mine_obj.endDate,callback:function(t){e.$set(e.mine_obj,"endDate",t)},expression:"mine_obj.endDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电费"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.eleFee,callback:function(t){e.$set(e.mine_obj,"eleFee",t)},expression:"mine_obj.eleFee"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("元/美元")])],1),e._v(" "),a("el-form-item",{attrs:{label:"收益方式",prop:"rewardCoins"}},[a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.rewardCoins,callback:function(t){e.rewardCoins=t},expression:"rewardCoins"}},e._l(e.options,function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"矿池费率"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.poolFee,callback:function(t){e.$set(e.mine_obj,"poolFee",t)},expression:"mine_obj.poolFee"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("%")])],1),e._v(" "),a("el-form-item",{attrs:{label:"回本系数"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.recover,callback:function(t){e.$set(e.mine_obj,"recover",t)},expression:"mine_obj.recover"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("%")])],1),e._v(" "),a("el-form-item",{attrs:{label:"回本前收益率"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.beforeRecover,callback:function(t){e.$set(e.mine_obj,"beforeRecover",t)},expression:"mine_obj.beforeRecover"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("%")])],1),e._v(" "),a("el-form-item",{attrs:{label:"回本后收益率"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.afterRecover,callback:function(t){e.$set(e.mine_obj,"afterRecover",t)},expression:"mine_obj.afterRecover"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("%")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editOpt_submit("mine_obj")}}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible_editOpt=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.dialogVisible_status},on:{"update:visible":function(t){e.dialogVisible_status=t}}},[a("el-form",{ref:"mine_obj",attrs:{model:e.mine_obj,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.mine_obj.status,callback:function(t){e.$set(e.mine_obj,"status",t)},expression:"mine_obj.status"}},[a("el-radio",{attrs:{label:0}},[e._v("禁用")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("启用")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("待审核")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态变更原因",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.mine_obj.remark,callback:function(t){e.$set(e.mine_obj,"remark",t)},expression:"mine_obj.remark"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.status_submit("mine_obj")}}},[e._v("修改")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible_status=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"批量调整",visible:e.dialogVisible_Adjust},on:{"update:visible":function(t){e.dialogVisible_Adjust=t}}},[a("el-form",{ref:"ajust",attrs:{model:e.ajust,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"币价系数"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.ajust.priceRate,callback:function(t){e.$set(e.ajust,"priceRate",t)},expression:"ajust.priceRate"}})],1),e._v(" "),a("el-col",{attrs:{span:3}}),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:6,offset:3}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.adjust_submit_priceRate("ajust")}}},[e._v("批量调整币价")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"电价"}},[a("el-col",{attrs:{span:5}},[a("el-input",{model:{value:e.ajust.eleFee,callback:function(t){e.$set(e.ajust,"eleFee",t)},expression:"ajust.eleFee"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                 元/美元\n            ")]),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{placeholder:"请选择语言"},model:{value:e.ajust.lang,callback:function(t){e.$set(e.ajust,"lang",t)},expression:"ajust.lang"}},e._l(e.optionslanguage,function(e){return a("el-option",{key:e.id,attrs:{label:e.paraName,value:e.id}})}))],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.adjust_submit_eleFee("ajust")}}},[e._v("批量调整电价")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"矿池费率"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.ajust.poolFee,callback:function(t){e.$set(e.ajust,"poolFee",t)},expression:"ajust.poolFee"}})],1),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("\n                 %\n            ")]),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.adjust_submit_poolFee("ajust")}}},[e._v("批量调整费率")])],1)],1),e._v(" "),a("el-form-item",[a("el-button",{on:{click:e.cancleAdjust}},[e._v("取消")])],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}]},[a("el-button",{attrs:{icon:"el-icon-back"},on:{click:e.cancle}},[e._v("返回")]),e._v(" "),a("VueEditor",{ref:"vueEditor",attrs:{id:e.mine_obj.id,name:e.mine_obj.name}})],1)],1)},staticRenderFns:[]};var p=a("VU/8")(r,c,!1,function(e){a("U6Cp")},"data-v-44f77fa9",null);t.default=p.exports},"p7W+":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.block[data-v-44f77fa9] {\n        text-align: center;\n        margin-top: 20px\n}\n.content[data-v-44f77fa9]{background: #fff\n}\n.mt_20[data-v-44f77fa9]{margin-top: 20px\n}\n.el-checkbox[data-v-44f77fa9]:first-child{margin-left: 30px\n}\n.pull-right[data-v-44f77fa9]{float: right\n}\n.auth_input[data-v-44f77fa9]{width: 100px;\n}\n.auth_text[data-v-44f77fa9]{font-size: 12px;\n}\n.auth_select[data-v-44f77fa9]{width: 100px\n}\n.mr_10[data-v-44f77fa9]{margin-right: 10px\n}\n",""])},"rC7+":function(e,t,a){"use strict";a("3f40"),a("4qOc"),a("+cgv");var i=a("G0J2"),o=a("wvJD"),s=(a("t5DY"),{props:["id","name","lang"],data:function(){return{type:"",planId:"",content:"",editorOption:{placeholder:"请输入内容..."},optionslanguage:[]}},components:{quillEditor:i.quillEditor},methods:{init:function(e,t){var a=this;this.planId=e,this.type=t,Object(o.k)({id:e}).then(function(e){e.data.type?e.data.body?a.content=e.data.body:a.content=a.$t("back.noContract"):a.$message.error(e.data.body)})},onEditorChange:function(e){e.editor;var t=e.html;e.text;this.content=t},submit:function(){var e=this,t={id:this.planId,type:this.type,lang:this.lang,langValue:this.content};Object(o.a)(t).then(function(t){t.data.type?e.$message.success("提交成功！"):e.$message.error("提交失败！")})}}}),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"container"},[a("div",{staticClass:"titile"},[a("h3",[e._v("方案名称 : "+e._s(e.name))])]),e._v(" "),a("quill-editor",{ref:"myTextEditor",attrs:{options:e.editorOption},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),e._v(" "),a("el-button",{staticClass:"editor-btn",attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)])},staticRenderFns:[]};var l=a("VU/8")(s,n,!1,function(e){a("G1d9")},"data-v-15ffaa30",null);t.a=l.exports}});
