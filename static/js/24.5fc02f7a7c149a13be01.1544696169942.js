webpackJsonp([24],{"/Zoc":function(e,t,a){var n=a("KjYz");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("1fff7e11",n,!0)},G1d9:function(e,t,a){var n=a("Vu9P");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("4adc7646",n,!0)},KjYz:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.block[data-v-118d5a2d] {\n        text-align: center;\n        margin-top: 20px\n}\n.content[data-v-118d5a2d]{background: #fff\n}\n.mt_20[data-v-118d5a2d]{margin-top: 20px\n}\n.el-checkbox[data-v-118d5a2d]:first-child{margin-left: 30px\n}\n.pull-right[data-v-118d5a2d]{float: right\n}\n.auth_input[data-v-118d5a2d]{width: 100px;\n}\n.auth_text[data-v-118d5a2d]{font-size: 12px;\n}\n.auth_select[data-v-118d5a2d]{width: 100px\n}\n.mr_10[data-v-118d5a2d]{margin-right: 10px\n}\n",""])},Vu9P:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.editor-btn[data-v-15ffaa30]{\n        margin-top: 20px\n}\n.ql-editor[data-v-15ffaa30]{height: 400px\n}\n.ql-container ql-snow[data-v-15ffaa30]{height: 400px\n}\n.titile[data-v-15ffaa30]{background: #f1f1f1;padding: 10px; text-align: center;margin: 20px\n}\n",""])},"rC7+":function(e,t,a){"use strict";a("3f40"),a("4qOc"),a("+cgv");var n=a("G0J2"),i=a("wvJD"),l=(a("t5DY"),{props:["id","name","lang"],data:function(){return{type:"",planId:"",content:"",editorOption:{placeholder:"请输入内容..."},optionslanguage:[]}},components:{quillEditor:n.quillEditor},methods:{init:function(e,t){var a=this;this.planId=e,this.type=t,Object(i.k)({id:e}).then(function(e){e.data.type?e.data.body?a.content=e.data.body:a.content=a.$t("back.noContract"):a.$message.error(e.data.body)})},onEditorChange:function(e){e.editor;var t=e.html;e.text;this.content=t},submit:function(){var e=this,t={id:this.planId,type:this.type,lang:this.lang,langValue:this.content};Object(i.a)(t).then(function(t){t.data.type?e.$message.success("提交成功！"):e.$message.error("提交失败！")})}}}),o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"container"},[a("div",{staticClass:"titile"},[a("h3",[e._v("方案名称 : "+e._s(e.name))])]),e._v(" "),a("quill-editor",{ref:"myTextEditor",attrs:{options:e.editorOption},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),e._v(" "),a("el-button",{staticClass:"editor-btn",attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)])},staticRenderFns:[]};var s=a("VU/8")(l,o,!1,function(e){a("G1d9")},"data-v-15ffaa30",null);t.a=s.exports},xUvx:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("woOf"),i=a.n(n),l=a("wvJD"),o=a("t5DY"),s=a("4/BI"),r={props:["id"],data:function(){return{isShow:!0,loading:!1,currentPage:1,dialogVisible_edit:!1,dialogVisible_add:!1,tableData:[],mine_obj:{id:"",planId:"",lang:"",langPrice:"",langEleFee:"",langHashName:""},rules:{},optionslanguage:[]}},created:function(){this.init()},filters:{formatCoinType:function(e){return Object(s.a)(e)},statusFilter:function(e){return{0:"danger",1:"success",2:"warning"}[e]},formatStata:function(e){return{0:"禁用",1:"启用",2:"待审核"}[e]},formatDate:function(e){if(e){var t=new Date(e);return Object(s.b)(t,"yyyy-MM-dd hh:mm:ss")}}},components:{VueEditor:a("rC7+").a},methods:{handleBack:function(){this.$router.go(-1)},init:function(){var e=this;this.loading=!0;var t={planId:this.id};Object(l.r)(t).then(function(t){e.loading=!1,t.data.type?e.tableData=t.data.body:t.data.body&&e.$message.error(t.data.body)})},handleAdd:function(){this.mine_obj={},this.dialogVisible_add=!0,this.getlanguage()},add_submit:function(e){var t=this,a={planId:this.id,lang:this.mine_obj.lang,langPrice:this.mine_obj.langPrice,langEleFee:this.mine_obj.langEleFee,langHashName:this.mine_obj.langHashName};this.$refs[e].validate(function(e){e&&Object(l.e)(a).then(function(e){e.data.type?(t.$message.success("提交成功！"),t.dialogVisible_add=!1,t.mine_obj={},t.init()):t.$message.error(e.data.body)})})},handleEditOpt:function(e,t){this.dialogVisible_edit=!0;var a=i()({},t);this.mine_obj.id=a.id,this.mine_obj.planId=this.id,this.mine_obj.lang=a.lang,this.mine_obj.langHashName=a.planName,this.mine_obj.langPrice=a.price,this.mine_obj.langEleFee=a.powerPrice,this.getlanguage()},editOpt_submit:function(e){var t=this;this.$refs[e].validate(function(e){e&&Object(l.e)(t.mine_obj).then(function(e){e.data.type?(t.$message.success("提交成功！"),t.dialogVisible_edit=!1,t.init()):t.$message.error(e.data.body)})})},handleEdit:function(e,t){this.isShow=!1,this.mine_obj.name=t.name,this.mine_obj.id=t.id,this.mine_obj.lang=t.lang,this.$refs.vueEditor.init(t.planId,"contract")},handleEditRisk:function(e,t){this.isShow=!1,this.mine_obj.name=t.name,this.mine_obj.id=t.id,this.mine_obj.lang=t.lang,this.$refs.vueEditor.init(t.planId,"risk")},cancle:function(){this.isShow=!0,this.init()},getlanguage:function(){var e=this;Object(o.c)({paraKey:"lang"}).then(function(t){t.data.type?e.optionslanguage=t.data.body:e.$message.error(t.data.body)})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}]},[a("el-button",{attrs:{type:"default"},on:{click:e.handleBack}},[e._v("返回")]),e._v(" "),a("el-button",{staticClass:"addButton",attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("添加")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"mt_20",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{sortable:"",fixed:"left",prop:"planName",label:"方案名称","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"price",label:"单价","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"langName",label:"语言","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{key:t.$index,attrs:{size:"mini",type:"primary"},on:{click:function(a){e.handleEditOpt(t.$index,t.row)}}},[e._v("编辑")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"合同"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{key:t.$index,attrs:{size:"mini",type:"primary"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"风险提示"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{key:t.$index,attrs:{size:"mini",type:"primary"},on:{click:function(a){e.handleEditRisk(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加",visible:e.dialogVisible_add},on:{"update:visible":function(t){e.dialogVisible_add=t}}},[a("el-form",{ref:"mine_obj",attrs:{model:e.mine_obj,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"语言",prop:"lang"}},[a("el-select",{attrs:{placeholder:"请选择语言"},model:{value:e.mine_obj.lang,callback:function(t){e.$set(e.mine_obj,"lang",t)},expression:"mine_obj.lang"}},e._l(e.optionslanguage,function(e){return a("el-option",{key:e.id,attrs:{label:e.paraName,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"方案名称",prop:"langHashName"}},[a("el-input",{model:{value:e.mine_obj.langHashName,callback:function(t){e.$set(e.mine_obj,"langHashName",t)},expression:"mine_obj.langHashName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单价",props:"langPrice"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.langPrice,callback:function(t){e.$set(e.mine_obj,"langPrice",t)},expression:"mine_obj.langPrice"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("元/份")])],1),e._v(" "),a("el-form-item",{attrs:{label:"电费",props:"langEleFee"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.langEleFee,callback:function(t){e.$set(e.mine_obj,"langEleFee",t)},expression:"mine_obj.langEleFee"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("元/kw.h")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.add_submit("mine_obj")}}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible_add=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.dialogVisible_edit},on:{"update:visible":function(t){e.dialogVisible_edit=t}}},[a("el-form",{ref:"mine_obj",attrs:{model:e.mine_obj,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"语言",prop:"lang"}},[a("el-select",{attrs:{placeholder:"请选择语言"},model:{value:e.mine_obj.lang,callback:function(t){e.$set(e.mine_obj,"lang",t)},expression:"mine_obj.lang"}},e._l(e.optionslanguage,function(e){return a("el-option",{key:e.id,attrs:{label:e.paraName,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"方案名称",prop:"langHashName"}},[a("el-input",{model:{value:e.mine_obj.langHashName,callback:function(t){e.$set(e.mine_obj,"langHashName",t)},expression:"mine_obj.langHashName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单价",props:"langPrice"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.langPrice,callback:function(t){e.$set(e.mine_obj,"langPrice",t)},expression:"mine_obj.langPrice"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("元/份")])],1),e._v(" "),a("el-form-item",{attrs:{label:"电费",props:"langEleFee"}},[a("el-col",{attrs:{span:16}},[a("el-input",{model:{value:e.mine_obj.langEleFee,callback:function(t){e.$set(e.mine_obj,"langEleFee",t)},expression:"mine_obj.langEleFee"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:8}},[e._v("元/kw.h")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editOpt_submit("mine_obj")}}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible_edit=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}]},[a("el-button",{attrs:{icon:"el-icon-back"},on:{click:e.cancle}},[e._v("返回")]),e._v(" "),a("VueEditor",{ref:"vueEditor",attrs:{id:e.mine_obj.id,name:e.mine_obj.name,lang:e.mine_obj.lang}})],1)],1)},staticRenderFns:[]};var c=a("VU/8")(r,d,!1,function(e){a("/Zoc")},"data-v-118d5a2d",null);t.default=c.exports}});
