webpackJsonp([43],{"30wf":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.block {\n    text-align: center;\n    margin-top: 20px\n}\n.content {\n    background: #fff\n}\n.mt_20 {\n    margin-top: 20px\n}\n.title{font-size:\n}\nul,li{list-style: none\n}\n.title li{float: left;font-size: 14px;font-weight: bold;margin: 10px\n}\n.title{margin-bottom: 30px;overflow: hidden\n}\n.auth_input{width: 100px;\n}\n.auth_text{font-size: 12px;\n}\n.auth_select{width: 100px\n}    \n\n\n",""])},DtOK:function(t,e,a){var o=a("30wf");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("9ba579a6",o,!0)},"V/Yq":function(t,e,a){"use strict";e.d=function(t){return Object(o.a)({url:"/user/getUserListByRole",method:"post",data:t})},e.b=function(t){return Object(o.a)({url:"/user/addForceUserInfo",method:"post",data:t})},e.f=function(t){return Object(o.a)({url:"/user/updateUserInfo",method:"post",data:t})},e.c=function(t){return Object(o.a)({url:"/account/getUserAccountByPage",method:"post",data:t})},e.a=function(t){return Object(o.a)({url:"/account/addAccountWalletAddress",method:"post",data:t})},e.e=function(t){return Object(o.a)({url:"/account/updateAccountWalletAddressStatus",method:"post",data:t})};var o=a("vLgD")},lTth:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("woOf"),s=a.n(o),i=a("Dd8w"),l=a.n(i),n=a("NYxO"),r=a("V/Yq"),c=a("t5DY"),u=a("4/BI"),d={props:["account","phone","mail"],data:function(){return{isShow:!0,loading:!1,sendAuthCode:!0,auth_time:0,verification:"",dialogVisible_status:!1,dialogVisible_edit:!1,dialogVisible_add:!1,tableData:[],wallet_obj:{id:"",accountNum:"",accountType:"",accountUsage:"",codeType:"",code:"",accountStatus:""},rules:{accountNum:[{required:!0,message:this.$t("loginForm.rules.required"),trigger:"blur"}],code:[{required:!0,message:this.$t("loginForm.rules.required"),trigger:"blur"}]},page:{pageNum:1,pageSize:"20",totalCount:""},optionsPara:[],optionsPara1:[]}},filters:{formatCoinType:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return formatCoinType(t)}),statusFilter:function(t){return{0:"danger",1:"success",2:"warning"}[t]},formatStata:function(t){return{0:"禁用",1:"启用",2:"待审核"}[t]},formatDate:function(t){if(t){var e=new Date(t);return Object(u.b)(e,"yyyy-MM-dd hh:mm:ss")}}},created:function(){this.init()},components:{},computed:l()({},Object(n.b)(["roles","admin","name"])),methods:{handleBack:function(){this.$router.go(-1)},getAuthCode:function(){var t=this,e="";if("phone"==this.wallet_obj.codeType)e={phone:this.phone},Object(c.l)(e).then(function(e){if(e.data.type){t.$message.success(e.data.body),t.sendAuthCode=!1,t.auth_time=60;var a=setInterval(function(){t.auth_time--,t.auth_time<=0&&(t.sendAuthCode=!0,clearInterval(a))},1e3)}else t.$message.error(e.data.body)});else{if("mail"!=this.wallet_obj.codeType)return void this.$message.error("请选择获取验证方式");e={mail:this.mail},Object(c.k)(e).then(function(e){if(e.data.type){t.$message.success(e.data.body),t.sendAuthCode=!1,t.auth_time=60;var a=setInterval(function(){t.auth_time--,t.auth_time<=0&&(t.sendAuthCode=!0,clearInterval(a))},1e3)}else t.$message.error(e.data.body)})}},handleStatus:function(t,e){this.dialogVisible_status=!0,this.wallet_obj=s()({},e)},status_submit:function(t){var e=this,a={userAcctId:this.wallet_obj.id,status:this.wallet_obj.accountStatus};this.$refs[t].validate(function(t){t&&Object(r.e)(a).then(function(t){t.data.type?(e.$message.success("提交成功！"),e.dialogVisible_status=!1,e.init(e.id)):e.$message.error(t.data.body)})})},handleEdit:function(t,e){this.dialogVisible_edit=!0,this.sendAuthCode=!0,this.wallet_obj=s()({},e),this.getParaList("income_pool_type"),this.getParaList1("address_type")},edit_submit:function(t){var e=this,a={user:this.account,walletAddress:this.wallet_obj.accountNum,walletType:this.wallet_obj.accountType,walletUsage:this.wallet_obj.accountUsage,codeType:this.wallet_obj.codeType,code:this.wallet_obj.code,userAcctId:this.wallet_obj.id};this.$refs[t].validate(function(t){t&&Object(r.a)(a).then(function(t){t.data.type?(e.$message.success("提交成功！"),e.dialogVisible_edit=!1,e.wallet_obj={},e.init(e.account)):e.$message.error(t.data.body)})})},handleAdd:function(){this.wallet_obj={},this.dialogVisible_edit=!0,this.sendAuthCode=!0,this.getParaList("income_pool_type"),this.getParaList1("address_type")},cancle:function(){this.isShow=!0},init:function(){var t=this;this.loading=!0;var e={user:this.account,pageNO:this.page.pageNum,pageSize:this.page.pageSize};Object(r.c)(e).then(function(e){t.loading=!1,e.data.type?(t.tableData=e.data.body.result,t.page.pageNO=e.data.body.pageNum,t.page.pageSize=e.data.body.pageSize,t.page.totalCount=e.data.body.totalCount):t.$message.error("获取列表失败！")})},handleSizeChange:function(t){this.page.pageSize=t,this.init(this.account)},handleCurrentChange:function(t){this.page.pageNO=t,this.init(this.account)},getParaList:function(t){var e=this,a={paraKey:t};Object(c.d)(a).then(function(t){t.data.type?e.optionsPara=t.data.body:e.$message.error(t.data.body)})},getParaList1:function(t){var e=this;Object(c.b)({}).then(function(t){t.data.type?e.optionsPara1=t.data.body:e.$message.error(t.data.body)})}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}]},[a("el-button",{attrs:{type:"default"},on:{click:t.handleBack}},[t._v(t._s(t.$t("back.back")))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v(t._s(t.$t("back.add")))]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"mt_20",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{fixed:"left",prop:"userName",label:t.$t("backPool.userName"),width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"coinName",label:t.$t("backPool.addressType"),width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"accountNum",label:t.$t("backPool.address"),width:"300"}}),t._v(" "),a("el-table-column",{attrs:{prop:"parmName",label:t.$t("backPool.useFor"),width:"300"}}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("backPool.status"),prop:"statusName",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return["发放"==e.row.statusName?a("el-tag",{attrs:{size:"mini",type:"success"}},[t._v(t._s(e.row.statusName))]):"未发放"==e.row.statusName?a("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v(t._s(e.row.statusName))]):a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(e.row.statusName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("backPool.modificationDate"),prop:"addDate",sortable:"",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(t._f("formatDate")(e.row.addDate)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("backPool.operation")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.row.status,expression:"!scope.row.status"}],key:e.$index,attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v(t._s(t.$t("back.modify")))])]}}])})],1),t._v(" "),t.tableData.length?a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","current-page":t.page.pageNum,"page-sizes":[20,50,100],"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:parseInt(t.page.totalCount)},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"}]},[a("button",{on:{click:t.cancle}},[t._v("取消")])]),t._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:t.dialogVisible_status},on:{"update:visible":function(e){t.dialogVisible_status=e}}},[a("el-form",{ref:"wallet_obj",attrs:{model:t.wallet_obj,rules:t.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"状态",prop:"accountStatus"}},[a("el-radio-group",{model:{value:t.wallet_obj.accountStatus,callback:function(e){t.$set(t.wallet_obj,"accountStatus",e)},expression:"wallet_obj.accountStatus"}},[a("el-radio",{attrs:{label:0}},[t._v("禁用")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("待审核")])],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.status_submit("wallet_obj")}}},[t._v("修改")]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogVisible_status=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.$t("back.addOrEdit"),visible:t.dialogVisible_edit},on:{"update:visible":function(e){t.dialogVisible_edit=e}}},[a("el-form",{ref:"wallet_obj",attrs:{model:t.wallet_obj,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:t.$t("backPool.walletAccount"),prop:"accountNum"}},[a("el-input",{model:{value:t.wallet_obj.accountNum,callback:function(e){t.$set(t.wallet_obj,"accountNum",e)},expression:"wallet_obj.accountNum"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("backPool.addressType"),prop:"accountType"}},[a("el-select",{model:{value:t.wallet_obj.accountType,callback:function(e){t.$set(t.wallet_obj,"accountType",e)},expression:"wallet_obj.accountType"}},t._l(t.optionsPara1,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("backPool.useFor"),prop:"accountUsage"}},[a("el-select",{model:{value:t.wallet_obj.accountUsage,callback:function(e){t.$set(t.wallet_obj,"accountUsage",e)},expression:"wallet_obj.accountUsage"}},t._l(t.optionsPara,function(t){return a("el-option",{key:t.id,attrs:{label:t.paraName,value:t.id}})}))],1),t._v(" "),t.admin.length?t._e():a("el-form-item",{attrs:{label:t.$t("loginForm.securityCode"),prop:""}},[a("el-input",{staticClass:"auth_input",attrs:{type:"text",placeholder:t.$t("loginForm.verificationCode")},model:{value:t.wallet_obj.code,callback:function(e){t.$set(t.wallet_obj,"code",e)},expression:"wallet_obj.code"}}),t._v(" "),a("el-select",{staticClass:"auth_select",model:{value:t.wallet_obj.codeType,callback:function(e){t.$set(t.wallet_obj,"codeType",e)},expression:"wallet_obj.codeType"}},[a("el-option",{attrs:{label:t.$t("loginForm.phone"),value:"phone"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("loginForm.email"),value:"mail"}})],1),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.sendAuthCode,expression:"sendAuthCode"}],staticClass:"auth_text auth_text_blue",attrs:{type:"primary"},on:{click:t.getAuthCode}},[t._v(t._s(t.$t("loginForm.getVerificationCode")))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.sendAuthCode,expression:"!sendAuthCode"}],staticClass:"auth_text"},[a("span",{staticClass:"auth_text_blue"},[t._v(t._s(t.auth_time)+" ")]),t._v(" "+t._s(t.$t("loginForm.tipsSend")))])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.edit_submit("wallet_obj")}}},[t._v(t._s(t.$t("back.save")))]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogVisible_edit=!1}}},[t._v(t._s(t.$t("back.cancle")))])],1)],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(d,p,!1,function(t){a("DtOK")},null,null);e.default=b.exports}});
